{"ast":null,"code":"import _slicedToArray from\"/Users/fanyukun/Documents/react/Indielog/Indielog/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Post from'../../components/Post';import{useState,useEffect}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPen,faTrash}from'@fortawesome/free-solid-svg-icons';import{deletePost,getMyPostsOnSnapshot}from'../../utils/firebase';import{useSelector}from'react-redux';import{MemberPageContainer,TitleButtonsGroup,TitleNormalButton,TitleActiveButton,LinkWithoutDecoration,ButtonsGroup,Button,PostDiv}from'./MyPostsElements.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyPosts=function MyPosts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var user=useSelector(function(store){return store.user.currentUser;});useEffect(function(){getMyPostsOnSnapshot(user.uid,setPosts);},[]);return/*#__PURE__*/_jsxs(MemberPageContainer,{children:[/*#__PURE__*/_jsxs(TitleButtonsGroup,{children:[/*#__PURE__*/_jsx(TitleActiveButton,{children:\"\\u6211\\u7684\\u6587\\u7AE0\"}),/*#__PURE__*/_jsx(TitleNormalButton,{to:\"/member/personal-info\",children:\"\\u6703\\u54E1\\u8CC7\\u6599\"})]}),posts.map(function(post){return/*#__PURE__*/_jsxs(PostDiv,{children:[/*#__PURE__*/_jsx(LinkWithoutDecoration,{to:\"/blogpost/\".concat(post.id),children:/*#__PURE__*/_jsx(Post,{imageUrl:post.imageUrl,title:post.title,createdAt:post.createdAt.toDate().toLocaleString(),topic:post.topic})}),/*#__PURE__*/_jsxs(ButtonsGroup,{children:[/*#__PURE__*/_jsx(LinkWithoutDecoration,{to:\"/editpost/\".concat(post.id),children:/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPen})})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){deletePost(post.id);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash})})]})]},post.id);})]});};export default MyPosts;","map":{"version":3,"sources":["/Users/fanyukun/Documents/react/Indielog/Indielog/src/pages/MyPosts/index.js"],"names":["Post","useState","useEffect","FontAwesomeIcon","faPen","faTrash","deletePost","getMyPostsOnSnapshot","useSelector","MemberPageContainer","TitleButtonsGroup","TitleNormalButton","TitleActiveButton","LinkWithoutDecoration","ButtonsGroup","Button","PostDiv","MyPosts","posts","setPosts","user","store","currentUser","uid","map","post","id","imageUrl","title","createdAt","toDate","toLocaleString","topic"],"mappings":"oIAAA,MAAOA,CAAAA,IAAP,KAAiB,uBAAjB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,KAAT,CAAgBC,OAAhB,KAA+B,mCAA/B,CACA,OAASC,UAAT,CAAqBC,oBAArB,KAAiD,sBAAjD,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OACEC,mBADF,CAEEC,iBAFF,CAGEC,iBAHF,CAIEC,iBAJF,CAKEC,qBALF,CAMEC,YANF,CAOEC,MAPF,CAQEC,OARF,KASO,sBATP,C,wFAWA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,cAA0BhB,QAAQ,CAAC,EAAD,CAAlC,wCAAOiB,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,IAAI,CAAGZ,WAAW,CAAC,SAACa,KAAD,QAAWA,CAAAA,KAAK,CAACD,IAAN,CAAWE,WAAtB,EAAD,CAAxB,CAEApB,SAAS,CAAC,UAAM,CACdK,oBAAoB,CAACa,IAAI,CAACG,GAAN,CAAWJ,QAAX,CAApB,CACD,CAFQ,CAEP,EAFO,CAAT,CAIA,mBACE,MAAC,mBAAD,yBACE,MAAC,iBAAD,yBACE,KAAC,iBAAD,uCADF,cAEE,KAAC,iBAAD,EAAmB,EAAE,CAAC,uBAAtB,sCAFF,GADF,CAKGD,KAAK,CAACM,GAAN,CAAU,SAAAC,IAAI,CAAI,CACjB,mBACE,MAAC,OAAD,yBACE,KAAC,qBAAD,EAAuB,EAAE,qBAAeA,IAAI,CAACC,EAApB,CAAzB,uBACE,KAAC,IAAD,EAAM,QAAQ,CAAED,IAAI,CAACE,QAArB,CAA+B,KAAK,CAAEF,IAAI,CAACG,KAA3C,CAAkD,SAAS,CAAEH,IAAI,CAACI,SAAL,CAAeC,MAAf,GAAwBC,cAAxB,EAA7D,CAAuG,KAAK,CAAEN,IAAI,CAACO,KAAnH,EADF,EADF,cAIE,MAAC,YAAD,yBACE,KAAC,qBAAD,EAAuB,EAAE,qBAAeP,IAAI,CAACC,EAApB,CAAzB,uBAAmD,KAAC,MAAD,wBAAQ,KAAC,eAAD,EAAiB,IAAI,CAAEtB,KAAvB,EAAR,EAAnD,EADF,cAEE,KAAC,MAAD,EAAQ,OAAO,CAAE,kBAAM,CAACE,UAAU,CAACmB,IAAI,CAACC,EAAN,CAAV,CAAoB,CAA5C,uBAA8C,KAAC,eAAD,EAAiB,IAAI,CAAErB,OAAvB,EAA9C,EAFF,GAJF,GAAcoB,IAAI,CAACC,EAAnB,CADF,CAWD,CAZA,CALH,GADF,CAqBD,CA7BD,CA+BA,cAAeT,CAAAA,OAAf","sourcesContent":["import Post from '../../components/Post'\nimport { useState, useEffect } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPen, faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { deletePost, getMyPostsOnSnapshot } from '../../utils/firebase'\nimport { useSelector } from 'react-redux'\nimport {\n  MemberPageContainer,\n  TitleButtonsGroup,\n  TitleNormalButton,\n  TitleActiveButton,\n  LinkWithoutDecoration,\n  ButtonsGroup,\n  Button,\n  PostDiv\n} from './MyPostsElements.js'\n\nconst MyPosts = () => {\n  const [posts, setPosts] = useState([])\n  const user = useSelector((store) => store.user.currentUser)\n\n  useEffect(() => {\n    getMyPostsOnSnapshot(user.uid, setPosts)\n  },[])\n  \n  return (\n    <MemberPageContainer>\n      <TitleButtonsGroup>\n        <TitleActiveButton>我的文章</TitleActiveButton>\n        <TitleNormalButton to='/member/personal-info'>會員資料</TitleNormalButton>\n      </TitleButtonsGroup>\n      {posts.map(post => {\n        return (\n          <PostDiv key={post.id}>\n            <LinkWithoutDecoration to={`/blogpost/${post.id}`}>\n              <Post imageUrl={post.imageUrl} title={post.title} createdAt={post.createdAt.toDate().toLocaleString()} topic={post.topic}/>\n            </LinkWithoutDecoration>\n            <ButtonsGroup>\n              <LinkWithoutDecoration to={`/editpost/${post.id}`}><Button><FontAwesomeIcon icon={faPen}/></Button></LinkWithoutDecoration>\n              <Button onClick={() => {deletePost(post.id)}}><FontAwesomeIcon icon={faTrash}/></Button>\n            </ButtonsGroup>\n          </PostDiv>\n        )\n      })}\n    </MemberPageContainer>\n  )\n}\n\nexport default MyPosts\n"]},"metadata":{},"sourceType":"module"}